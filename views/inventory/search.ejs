<%- messages() %>

<% if (locals.errors) { %>
  <div class="notice">
    <ul>
      <% errors.array().forEach(error => { %>
        <li><%= error.msg %></li>
      <% }) %>
    </ul>
  </div>
<% } %>

<div class="management-container">
  <h1><%= title %></h1>

  <form action="/inv/search/results" method="get" class="inventory-form">
    <label for="classification_id">Classification</label>
    <%- classificationList.replace('id="classificationList"', 'id="classification_id"').replace(' required', '') %>

    <label for="q">Keyword (make/model)</label>
    <input type="text" id="q" name="q" maxlength="50" value="<%= filters.q %>">

    <label for="min_price">Minimum Price</label>
    <input type="number" id="min_price" name="min_price" min="0" step="0.01" value="<%= filters.min_price %>">

    <label for="max_price">Maximum Price</label>
    <input type="number" id="max_price" name="max_price" min="0" step="0.01" value="<%= filters.max_price %>">

    <label for="min_year">Minimum Year</label>
    <input type="number" id="min_year" name="min_year" min="1886" value="<%= filters.min_year %>">

    <label for="max_year">Maximum Year</label>
    <input type="number" id="max_year" name="max_year" min="1886" value="<%= filters.max_year %>">

    <label for="max_miles">Maximum Miles</label>
    <input type="number" id="max_miles" name="max_miles" min="0" value="<%= filters.max_miles %>">

    <button type="submit">Search</button>
  </form>

  <% if (hasSearched) { %>
    <h2>Results</h2>
    <%- grid %>
  <% } %>
</div>
